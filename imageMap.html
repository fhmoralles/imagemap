<html>
	<head>
		<script type="text/javascript" src="jquery.min.js"></script>
		<script type="text/javascript" src="imageMap.js"></script>
	</head>
	
	<body style="overflow: hidden; margin: 0px;">
		
		<div id="botoes" style="position: absolute;">
			<button type="button" id="addMarker" onclick="addMarker()">Add</button>
			<button type="button" id="removeMarker" onclick="removeNext()">Remove</button>
			<button type="button" id="removeMarkers" onclick="removeAll()">Remove All</button>
		</div>
		
		<div id="mapa"></div>
		
		<script>
			
			var lAux = 1000;
			var tAux = 1000;
			
			var markers = [];
			
			var map = new imagemap.Map({
				container: 'mapa', 		// container id
				image: '2_no_clouds_16k.jpg', 			// stylesheet location
				size: [16200, 8100], 	// starting position [lng, lat]
				zoom: 0, 				// starting zoom
				nivel: 30               // nivel zoom
			});			
			
			var marker1 = map.addMarker({
				image: 'marker_red.png',
				position: [680, 720]
			});
			markers[0] = marker1;
			
			var marker2 = map.addMarker({
				image: 'marker_red.png',
				position: [4000, 1042]
			});
			markers[1] = marker2;

			var marker3 = map.addMarker({
				image: 'marker_red.png',
				position: [2155, 2323]
			});
			markers[2] = marker3;

			var marker4 = map.addMarker({
				image: 'marker_red.png',
				position: [2160, 1245],
				onclick: function() {
					console.log(this.id);
					alert("Hello " + this.id);
				}
			});
			markers[3] = marker4;

			function removeNext() {

			    lAux = 1000;
				tAux = 1000;
				
				for(var x in markers) {
					map.removeMarker(markers[x].id);
					markers.splice(x, 1);
					break;
				}
				
			}
			
			function removeAll() {
			    
			    lAux = 1000;
				tAux = 1000;
				
				map.removeMarkers();
				markers = [];
			}

			function addMarker() {
				
    			var marker3 = map.addMarker({
    
    				image: 'marker_red.png',
    				position: [ lAux, tAux ]
    			});
				markers[markers.length+1] = marker3;
				lAux += 1000;
				tAux += 1000;
				
			}
			
 		</script>
	</body>
</html>